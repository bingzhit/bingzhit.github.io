---
layout: post
read_time: true
show_date: true
title: AI图像识别
date: 2025-07-19 03:10:23 +0800
description: C#项目AI图像识别
img: posts/20250719/ai-recognition-page.png
tags: [csharp, winform, LLM]
author: bingzhit
---

1. 新建一个 winform 项目。
2. 设计界面。
![界面](/assets/img/posts/20250719/ai-recognition-page.png)
3. 实现 post 请求。
```csharp
private String PostRequest(String url, String filename)
{
    int extIndex = filename.LastIndexOf('\\');
    String ext = filename.Substring(extIndex + 1);
    HttpClient client = new HttpClient();
    byte[] image = File.ReadAllBytes(filename);
    var formData = new MultipartFormDataContent();
    formData.Add(new ByteArrayContent(image), "image", ext);
    HttpResponseMessage result = client.PostAsync(url, formData).Result;
    String res = result.Content.ReadAsStringAsync().Result;
    client.Dispose();
    return res;
}
```
4. 实现按钮的点击事件，调用识别接口，并显示结果。
```csharp
//植物识别按钮
private void button1_Click(object sender, EventArgs e)
{
    if (openFileDialog1.ShowDialog() == DialogResult.OK)
    {
        String filename = openFileDialog1.FileName;
        textBox2.Text = filename;
        pictureBox1.Image = Image.FromFile(filename);
        String result = PostRequest("http://localhost:8080/rec/plant", filename);
        richTextBox1.Text = result;
    }
}
```
其他按钮的点击事件处理逻辑类似。

